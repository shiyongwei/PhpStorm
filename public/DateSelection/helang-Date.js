(function(){$.extend({helangDate:function(parameter){if(parameter.start){if(parameter.start<=parameter.end){return}}var winInfo={width:$(window).width(),height:$(window).height()};var elInfo={el:parameter.el,top:parameter.el.offset().top+parameter.el.outerHeight()-1,left:parameter.el.offset().left};var yearInfo={max:parameter.start,min:parameter.end};var yearArrCol=[];var intMaxYear=Math.floor(yearInfo.max/10)*10,intMinYear=Math.floor(yearInfo.min/10)*10;for(var i=intMaxYear;i>=intMinYear;i=i-10){yearArrCol.push(i)}var setDate={select:{year:-1,month:-1,day:-1},year:function(){var str_1='',str_2='';for(var x=0;x<yearArrCol.length;x++){str_1+='<div>'+yearArrCol[x].toString(10)[2]+'0Âêé:</div>';str_2+='<li>';for(var y=0;y<=9;y++){var beYear=yearArrCol[x]+y;if(beYear<yearInfo.min||beYear>yearInfo.max){continue}else{str_2+='<div data-type="year">'+beYear+'</div>'}}str_2+='</li>'}var shadeStyle='width:'+winInfo.width+'px;height:'+winInfo.height+'px;';var dataBoxStyle='top:'+elInfo.top+'px;left:'+elInfo.left+'px;';var helangDateString='<div id="helang-Date" style="'+shadeStyle+'">';helangDateString+='<div class="data-box" style="'+dataBoxStyle+'"><div class="year-box"><div style="width: 45px;color: #999999;">'+str_1+'</div><div style="width: 450px;"><ul class="list">'+str_2+'</ul></div></div></div>';helangDateString+='</div>';$("body").append(helangDateString);$("#helang-Date").on("click","div",function(){switch($(this).data("type")){case"year":setDate.select.year=parseInt($(this).html());setDate.setMonth();break;case"month":setDate.select.month=parseInt($(this).html());setDate.setDay();break;case"day":setDate.select.day=parseInt($(this).html());elInfo.el.val(setDate.select.year+"-"+setDate.select.month+"-"+setDate.select.day);$("#helang-Date").remove();break}})},setMonth:function(){var str='';for(var i=1;i<=12;i++){str+='<div data-type="month">'+i+'</div>'}$("#helang-Date .data-box").html('<ul class="list" style="width: 450px;"><li>'+str+'</li></ul>')},setDay:function(){var month=setDate.select.month;var dayLength=30;if(month==1||month==3||month==5||month==7||month==8||month==10||month==12){dayLength=31}else if(month==2){var year=setDate.select.year;if(year%4==0&&year%100!=0){dayLength=29}else if(year%400==0){dayLength=29}else{dayLength=28}}else{dayLength=30}var str='';for(var i=1;i<=dayLength;i++){str+='<div data-type="day">'+i+'</div>'}$("#helang-Date .data-box").html('<ul class="list" style="width: 450px;"><li>'+str+'</li></ul>')}};setDate.year()}});$(".helang-date").click(function(){var el=$(this),start=new Date().getFullYear(),end=new Date().getFullYear()-60;if($(this).data("el")){el=$($(this).data("el"))};if($(this).data("year")){var arr=$(this).data("year").split(",");if(arr[0]>arr[1]){start=arr[0];end=arr[1]}};$.helangDate({el:el,start:start,end:end})})})(jQuery)